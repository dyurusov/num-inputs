!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(10),u=r(4),a=function(e){function t(t){return e.call(this,t,new s.NumericParser,new u.NumericDomBuilder({classNames:{wrapper:"number-input-widget"}}))||this}return i(t,e),t}(o.Control);t.default=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(11),u=r(12),a=function(e){function t(t){return e.call(this,t,new s.CalcParser,new u.CalcDomBuilder({classNames:{wrapper:"calc-input-widget"}}))||this}return i(t,e),t}(o.Control);t.default=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parser=r,i.domBuilder=n,i._value=null,i._text="",i.domBuilder.bindOwner(i),i._hostElement=(t instanceof HTMLElement?t:document.getElementById(t))||void 0,i.mount(),i}return i(t,e),t.prototype.mount=function(){!this.hostElement||this.hostElement.innerHTML.trim()||this.domBuilder.isMounted||this.domBuilder.mount(this.hostElement)},t.prototype.destroy=function(){this.domBuilder.isMounted&&(this.clearListeners(),this.domBuilder.unmount())},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMounted",{get:function(){return this.domBuilder.isMounted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return void 0!==this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){var t=this;this.trackChanges((function(){var r=t.parser.parse(e);null==r?(t._value=null,t._text=""):(t._value=r,t._text=t._value.toString())}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=this;this.trackChanges((function(){t._text=e,t._value=t.parser.parse(e)}))},enumerable:!0,configurable:!0}),t.prototype.trackChanges=function(t){return e.prototype.trackChanges.call(this,t,["value","text","isValid"])},t}(r(9).ChangeTracker);t.Control=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.parseNumeric=function(e){if("number"==typeof e)return isNaN(e)?null:e||0;if(null==e)return null;var t=e.trim();if(!t.length)return null;var r=t.match(/^(\+|-)?(\d*)\.?(\d*)$/);return r&&(r[2]||r[3])?("-"===r[1]?-1:1)*((r[2]?parseFloat(r[2]):0)+(r[3]?parseFloat("0."+r[3]):0))||0:void 0},e.parseExpression=function(t){var r=e.parseNumeric(t);if(void 0!==r)return r;try{var n=e.parseExpressionCondence(t.trim());return e.parseExpressionBrackets(n)}catch(e){return}},e.parseExpressionCondence=function(e){if(e.match(/[^\d .+\-/*()]/))throw new Error("Invalid char");if(e.match(/[\d.]\s+[\d.]/))throw new Error("Space within number");var t=e.replace(/\s/g,"");if(t.match(/[-+/*][-+/*]/))throw new Error("Doubled actions");if(t.match(/(\(\)|\)\()/))throw new Error("Immediately adjacent unsimilar brackets");if((t.match(/\(/g)||[]).length!==(t.match(/\)/g)||[]).length)throw new Error("Invalid number of openning and closing brackets");if(t.match(/[\d.]\(/))throw new Error("No action before non-first opening bracket");if(t.match(/\)[\d.]/))throw new Error("No action after non-last closing bracket");return t},e.parseExpressionBrackets=function(t){if(t.match(/^[*/]/))throw new Error("Multiplication or division on the first position");if(t.match(/[*/+-]$/))throw new Error("Multiplication, division, adding or substraction on the first position");var r=0,n=t;do{var i=n.indexOf("(",r),o=-1!==i,s=n.indexOf(")",r),u=-1!==s;if(!o){if(u)throw new Error("Closing bracket without opening one");break}if(!u)throw new Error("No closing bracket");if(i>s)throw new Error("Closing bracket befor opening one");var a=e.findClosingBracket(n,i),c=n.substring(i+1,a),l=e.parseNumeric(c);if(null===l)throw new Error("Empty numeric");var p="";if(void 0===l){var f=e.parseExpressionBrackets(c);p=f<0?"("+f+")":f.toString()}else p=l<0?"("+l+")":l.toString();n=n.substring(0,i)+p+n.substr(a+1),r=i+p.length+1}while(r<n.length);return e.parseExpressionMultiplicationGroups(n)},e.findClosingBracket=function(e,t){if("("!==e[t])throw new Error("No opening bracket at start position");for(var r=0,n=t+1;n<e.length;n++){var i=e[n];if(")"===i){if(!r)return n;r--}else"("===i&&r++}throw new Error("Closing bracket is not found")},e.parseExpressionMultiplicationGroups=function(t){var r=e.parseNumeric(t);if(null===r)throw new Error("Empty numeric");if(void 0!==r)return r;var n=t[0],i=("+"===n||"-"===n?"+"===n?1:-1:0)?1:0,o=i,s=t;do{if("("===s[o]&&(o=e.findClosingBracket(s,o)),!(o+1<s.length)){c=s.substring(i,s.length),l=(a=e.parseExpressionMultiply(c))<0?"("+a+")":a.toString();s=s.substring(0,i)+l;break}var u=s[o+1];if("+"===u||"-"===u){var a,c=s.substring(i,o+1),l=(a=e.parseExpressionMultiply(c))<0?"("+a+")":a.toString();s=s.substring(0,i)+l+s.substr(o+1),o=i=i+l.length+1}else o++}while(i<s.length);return e.parseExpressionAdding(s)},e.parseExpressionMultiply=function(t){var r=e.parseNumeric(t);if(null===r)throw new Error("Empty numeric");if(void 0!==r)return r;var n=1,i=0,o=0,s=o,u=t.length;do{var a=!1;if("("===t[s]&&(s=e.findClosingBracket(t,s),a=!0),!(s+1<u)){p=t.substring(a?o+1:o,a?s:s+1);if(null===(l=e.parseNumeric(p))&&void 0===l)throw new Error('Invalid numeric: "'+p+'"');n=i?i<0?n/l:n*l:l;break}var c=t[s+1];if("*"===c||"/"===c){var l,p=t.substring(a?o+1:o,a?s:s+1);if(null===(l=e.parseNumeric(p))&&void 0===l)throw new Error('Invalid numeric: "'+p+'"');n=i?i<0?n/l:n*l:l,i="*"===c?1:-1,s=o=s+2}else s++}while(o<u);return n},e.parseExpressionAdding=function(t){var r=e.parseNumeric(t);if(null===r)throw new Error("Empty numeric");if(void 0!==r)return r;var n=0,i=0,o=t[0],s="+"===o||"-"===o?"+"===o?1:-1:0,u=s?1:0,a=u,c=t.length;do{var l=!1;if("("===t[a]&&(a=e.findClosingBracket(t,a),l=!0),!(a+1<c)){d=t.substring(l?u+1:u,l?a:a+1);if(null===(f=e.parseNumeric(d))&&void 0===f)throw new Error('Invalid numeric: "'+d+'"');i?n=i<0?n-f:n+f:(n=f,s&&(n*=s));break}var p=t[a+1];if("+"===p||"-"===p){var f,d=t.substring(l?u+1:u,l?a:a+1);if(null===(f=e.parseNumeric(d))&&void 0===f)throw new Error('Invalid numeric: "'+d+'"');i?n=i<0?n-f:n+f:(n=f,s&&(n*=s)),i="+"===p?1:-1,a=u=a+2}else a++}while(u<c);return n},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={wrapper:"control-widget",hasFocus:"has-focus",isInvalid:"is-invalid"},i=function(){function e(e){void 0===e&&(e={}),this._isMounted=!1,this.unsubscribers=[],this.classNames=Object.assign(n,e.classNames||{})}return e.prototype.bindOwner=function(e){this.owner=e},Object.defineProperty(e.prototype,"isMounted",{get:function(){return this._isMounted},enumerable:!0,configurable:!0}),e.prototype.mount=function(e){var t=this;if(!this.owner)throw new Error("Owner is not bound");this.isMounted||(this.wrapper=document.createElement("div"),this.wrapper.classList.add(this.classNames.wrapper),this.buildElements().forEach((function(e){return t.wrapper&&t.wrapper.append(e)})),e.append(this.wrapper),this._isMounted=!0)},e.prototype.unmount=function(){this.isMounted&&(this.unsubscribers.forEach((function(e){return e()})),this.wrapper&&this.wrapper.remove(),this.wrapper=void 0,this._isMounted=!1)},e.prototype.buildElements=function(){return[this.buildInput()]},e.prototype.buildInput=function(){var e=this,t=document.createElement("input");t.type="text",t.addEventListener("input",(function(){return e.owner&&(e.owner.text=t.value)})),t.addEventListener("focus",(function(){return e.wrapper&&e.wrapper.classList.add(e.classNames.hasFocus)})),t.addEventListener("blur",(function(){return e.wrapper&&e.wrapper.classList.remove(e.classNames.hasFocus)}));var r=function(t){return e.wrapper&&e.wrapper.classList[t?"remove":"add"](e.classNames.isInvalid)};this.owner&&this.unsubscribers.push(this.owner.on("isValidChanged",r));var n=function(e){t.value=e};return this.owner&&this.unsubscribers.push(this.owner.on("textChanged",n)),this.owner&&r(this.owner.isValid),this.owner&&n(this.owner.text),t},e}();t.NumericDomBuilder=i},function(e,t,r){"use strict";r.r(t);r(6),r(7),r(8);var n=r(0),i=r.n(n),o=r(1),s=r.n(o);const u=new i.a("numInputDefault"),a=new i.a("numInputCustom"),c=new s.a("calcInputDefault"),l=new s.a("calcInputCustom"),p=document.getElementById("tmpl");p&&[u,c].forEach(e=>{if(e.isMounted){const t=document.createElement("div");t.append(p.content.cloneNode(!0)),e.hostElement.after(t);const r=e=>t.querySelector(".property.value .val").innerHTML=e||"",n=e=>t.querySelector(".property.text .val").innerHTML=e||"",i=e=>t.querySelector(".property.valid .val").innerHTML=e?"true":"false";r(e.value),n(e.text),i(e.isValid),e.on("valueChanged",r),e.on("textChanged",n),e.on("isValidChanged",i),t.querySelector(".setter.value button").addEventListener("click",t=>e.value=t.target.parentElement.querySelector("input").value),t.querySelector(".setter.text button").addEventListener("click",t=>e.text=t.target.parentElement.querySelector("input").value)}});const f=document.getElementById("destroy-button");f&&f.addEventListener("click",()=>{[u,a,c,l].forEach(e=>e.destroy())})},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e=new Map),this.listeners=e}return e.prototype.on=function(e,t){var r=this;return this.listeners.has(e)||this.listeners.set(e,[]),(this.listeners.get(e)||[]).push(t),function(){r.listeners.set(e,(r.listeners.get(e)||[]).filter((function(e){return e!==t})))}},e.prototype.clearListeners=function(){this.listeners.clear()},e.prototype.trackChanges=function(e,t){var r=this.takeSnapshotFor(t);e();var n=this.takeSnapshotFor(t);this.emitChangedEventsFor(t,r,n)},e.prototype.takeSnapshotFor=function(e){var t=this,r={};return e.forEach((function(e){r[e]=t[e]})),r},e.prototype.emitChangedEventsFor=function(e,t,r){var n=this;e.forEach((function(e){t[e]!==r[e]&&n.emit(e+"Changed",r[e])}))},e.prototype.emit=function(e,t){(this.listeners.get(e)||[]).forEach((function(e){return e(t)}))},e}();t.ChangeTracker=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(3)),o=function(e){void 0===e&&(e=i.default.parseNumeric),this.parse=e};t.NumericParser=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(3)),o=function(e){void 0===e&&(e=i.default.parseExpression),this.parse=e};t.CalcParser=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s="?",u=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.invalidSign=t.invalidSign||s,r}return i(t,e),t.prototype.buildElements=function(){return[this.buildInput(),this.buildDisplay()]},t.prototype.buildDisplay=function(){var e=this,t=document.createElement("span");t.tabIndex=-1,t.addEventListener("focusin",(function(){return e.wrapper&&e.wrapper.classList.add(e.classNames.hasFocus)})),t.addEventListener("focusout",(function(){return e.wrapper&&e.wrapper.classList.remove(e.classNames.hasFocus)}));var r=function(r){t.innerHTML=null!==r?void 0===r?e.invalidSign:r:""};return this.owner&&this.unsubscribers.push(this.owner.on("valueChanged",r)),this.owner&&r(this.owner.value||null),t},t}(o.NumericDomBuilder);t.CalcDomBuilder=u}]);